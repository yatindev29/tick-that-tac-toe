<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Tic-Tac-Toe Website</title>
    <style>
        /* --- CSS VARIABLES FOR THEMING --- */
        :root {
            --bg-start: #1f2833;
            --bg-end: #0b0c10;
            --accent-color: #45a29e;
            --text-color: #66fcf1;
            --board-bg: #1f2833;
            --cell-bg: #0b0c10;
            --x-color: #f67280;
            --o-color: #88d8b0;
            --button-color: #45a29e;
            --button-text: #0b0c10;
            --footer-bg: #111;
        }

        /* --- THEME 1: LIGHT --- */
        .theme-light {
            --bg-start: #f8f9fa;
            --bg-end: #ffffff;
            --accent-color: #007bff;
            --text-color: #343a40;
            --board-bg: #e9ecef;
            --cell-bg: #ffffff;
            --x-color: #dc3545;
            --o-color: #28a745;
            --button-color: #007bff;
            --button-text: #ffffff;
            --footer-bg: #ddd;
        }
        
        /* --- THEME 2: FOREST GREEN --- */
        .theme-forest {
            --bg-start: #386641;
            --bg-end: #6a994e;
            --accent-color: #a7c957; 
            --text-color: #f2e8cf; 
            --board-bg: #4f772d;
            --cell-bg: #212529; 
            --x-color: #bc4749; 
            --o-color: #70c4e8; 
            --button-color: #a7c957;
            --button-text: #212529;
            --footer-bg: #345826;
        }

        /* --- THEME 3: OCEAN BLUE --- */
        .theme-ocean {
            --bg-start: #0077b6;
            --bg-end: #0096c7;
            --accent-color: #90e0ef; 
            --text-color: #ffffff;
            --board-bg: #03045e; 
            --cell-bg: #0077b6;
            --x-color: #ffb300; 
            --o-color: #ff0054; 
            --button-color: #90e0ef;
            --button-text: #03045e;
            --footer-bg: #023e8a;
        }

        /* --- THEME 4: SUNSET ORANGE (NEW) --- */
        .theme-sunset {
            --bg-start: #ff6e40;
            --bg-end: #ffb38a;
            --accent-color: #ff3d00;
            --text-color: #3e2723;
            --board-bg: #ffe0b2; 
            --cell-bg: #ffccbc;
            --x-color: #d81b60;
            --o-color: #00bfa5;
            --button-color: #ff3d00;
            --button-text: #ffffff;
            --footer-bg: #e65100;
        }

        /* --- THEME 5: MONOCHROME MINIMAL (NEW) --- */
        .theme-mono {
            --bg-start: #333333;
            --bg-end: #111111;
            --accent-color: #88d8b0; 
            --text-color: #eeeeee;
            --board-bg: #222222;
            --cell-bg: #444444;
            --x-color: #f0f0f0; 
            --o-color: #aaaaaa; 
            --button-color: #88d8b0;
            --button-text: #111111;
            --footer-bg: #000000;
        }


        /* --- GLOBAL & LAYOUT STYLES --- */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            background: linear-gradient(135deg, var(--bg-start) 0%, var(--bg-end) 100%);
            color: var(--text-color);
            transition: background 0.5s, color 0.5s;
            line-height: 1.6;
            min-width: 320px;
        }

        /* --- NAVIGATION & HEADER --- */
        header {
            background-color: var(--board-bg);
            color: var(--text-color);
            padding: 20px 0;
            text-align: center;
            border-bottom: 3px solid var(--accent-color);
        }

        nav a {
            color: var(--text-color);
            text-decoration: none;
            margin: 0 15px;
            font-weight: bold;
            transition: color 0.2s;
        }

        nav a:hover {
            color: var(--accent-color);
        }

        /* --- MAIN GAME SECTION --- */
        #game-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            min-height: 80vh;
        }

        #game-elements {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: var(--board-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
            margin-bottom: 50px;
            z-index: 10;
        }
        
        /* --- INFO SECTIONS --- */
        .info-section {
            width: 80%;
            max-width: 900px;
            margin: 40px auto;
            padding: 30px;
            background-color: var(--board-bg);
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            border-left: 5px solid var(--accent-color);
            transition: border-left 0.5s;
        }

        .info-section h2 {
            color: var(--accent-color);
            margin-top: 0;
        }

        .info-section ul {
            list-style: none;
            padding-left: 0;
        }

        .info-section ul li {
            margin-bottom: 10px;
        }

        /* --- FOOTER --- */
        footer {
            background-color: var(--footer-bg);
            color: #c5c6c7;
            text-align: center;
            padding: 30px 20px;
            font-size: 14px;
        }

        footer h3 {
            color: var(--accent-color);
            margin-top: 0;
        }

        footer a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.2s;
        }

        footer a:hover {
            color: var(--accent-color);
        }

        .footer-links a {
            margin: 0 10px;
        }
        
        /* --- GAME-SPECIFIC STYLES --- */
        #name-input-container { margin-bottom: 20px; display: flex; align-items: center; gap: 10px; font-size: 18px; color: var(--text-color); }
        #player-name { padding: 8px; font-size: 16px; border-radius: 5px; border: 1px solid var(--accent-color); background-color: var(--bg-start); color: var(--text-color); }
        #controls { display: flex; gap: 20px; margin-bottom: 20px; }
        #game-board { display: grid; grid-template-columns: repeat(3, 120px); grid-template-rows: repeat(3, 120px); gap: 8px; background-color: var(--board-bg); border: 8px solid var(--accent-color); border-radius: 15px; box-shadow: 0 0 30px rgba(70, 160, 158, 0.5); z-index: 10; }
        .cell { background-color: var(--cell-bg); display: flex; align-items: center; justify-content: center; font-size: 70px; font-weight: bold; cursor: pointer; color: var(--text-color); transition: background-color 0.2s, transform 0.1s; border-radius: 5px; }
        .cell:hover:not(.occupied):not(.winner) { background-color: var(--board-bg); transform: scale(1.03); }
        .cell.X { color: var(--x-color); } .cell.O { color: var(--o-color); }
        @keyframes growIn { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        @keyframes fadeIn { 0% { opacity: 0; } 100% { opacity: 1; } }
        .cell.X:not(.winner) { animation: growIn 0.3s ease-out; }
        .cell.O:not(.winner) { animation: fadeIn 0.4s ease-in; }
        @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 0 0 var(--accent-color); } 70% { transform: scale(1.05); box-shadow: 0 0 0 20px rgba(69, 162, 158, 0); } 100% { transform: scale(1); box-shadow: 0 0 0 0 var(--accent-color); } }
        .cell.winner { background-color: var(--accent-color) !important; color: var(--button-text) !important; animation: pulse 1s infinite; }
        #message { margin: 20px 0; font-size: 28px; font-weight: 700; color: var(--text-color); z-index: 10; }
        button { padding: 12px 25px; font-size: 18px; cursor: pointer; background-color: var(--button-color); color: var(--button-text); border: none; border-radius: 8px; transition: background-color 0.2s; margin-top: 15px; z-index: 10; }
        button:hover { background-color: var(--text-color); color: var(--button-color); }
        #confetti-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 5; }
        .confetti { position: absolute; width: 10px; height: 10px; background-color: var(--accent-color); opacity: 0; animation: fall 3s linear forwards; }
        @keyframes fall { 0% { transform: translate(0, -100px) rotate(0deg); opacity: 1; } 100% { transform: translate(var(--x-end), var(--y-end)) rotate(720deg); opacity: 0.5; } }
    </style>
</head>
<body class="theme-dark">

    <audio id="x-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-game-click-1937.mp3" preload="auto"></audio>
    <audio id="o-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-positive-notification-951.mp3" preload="auto"></audio>
    <audio id="win-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-game-success-2059.mp3" preload="auto"></audio>

    <header>
        <h1> TICK that TAC TOE (AI)</h1>
        <nav>
            <a href="#game-section">Play Game</a>
            <a href="#help-section">Help</a>
            <a href="#support-section">Strategy</a>
            <a href="#contact-section">Contact</a>
        </nav>
    </header>

    <section id="game-section">
        <h2>The Minimax Challenge</h2>
        <div id="game-elements">
            <div id="name-input-container">
                <label for="player-name">Player Name:</label>
                <input type="text" id="player-name" value="Human Player" onchange="updatePlayerName()" />
            </div>
            
            <div id="controls">
                <div id="difficulty-selector">
                    <label for="difficulty">Difficulty:</label>
                    <select id="difficulty" onchange="resetGame()">
                        <option value="easy">Easy (Random)</option>
                        <option value="medium">Medium (Basic Strategy)</option>
                        <option value="hard" selected>Hard (Unbeatable Minimax)</option>
                    </select>
                </div>

                <div id="theme-selector">
                    <label for="theme">Theme:</label>
                    <select id="theme" onchange="changeTheme()">
                        <option value="dark">Dark Theme</option>
                        <option value="light">Light Theme</option>
                        <option value="forest">Forest Green Theme</option>
                        <option value="ocean">Ocean Blue Theme</option>
                        <option value="sunset">Sunset Orange Theme</option>   <option value="mono">Monochrome Minimal Theme</option> </select>
                </div>
            </div>

            <div id="message">Your Turn (X)</div>
            <div id="game-board"></div>
            <button id="reset-button">Restart Game</button>
        </div>
        
        <div id="confetti-container"></div>
    </section>

    <section id="help-section" class="info-section">
        <h2><a href="#help-section">‚ùì Help: How to Play</a></h2>
        <p>This is the classic game of Tic-Tac-Toe, but with a highly advanced AI opponent! The AI plays as 'O'.</p>
        <ul>
            <li><strong>Objective:</strong> Get three of your marks ('X') in a row, either horizontally, vertically, or diagonally.</li>
            <li><strong>Difficulty:</strong>
                <ul>
                    <li>**Easy (Random):** The AI chooses its next move randomly.</li>
                    <li>**Medium (Basic Strategy):** The AI will try to win in one move or block you from winning in one move.</li>
                    <li>**Hard (Unbeatable Minimax):** The AI uses the Minimax algorithm, which will never lose. It will always win or force a draw.</li>
                </ul>
            </li>
            <li>**Getting Started:** Enter your name above and click any empty cell to place your 'X' and begin the game!</li>
        </ul>
    </section>

    <section id="support-section" class="info-section">
        <h2><a href="#support-section">üí° Support & Strategy Tips</a></h2>
        <p>Facing the Minimax AI on Hard is a true challenge. Here are some winning strategies:</p>
        <ul>
            <li>**The Perfect Opening:** The game is mathematically determined. Your absolute best first move is always the **center square**. If the center is taken, aim for a **corner spot**.</li>
            <li>**The Corner Trap:** If you take a corner and the AI takes an adjacent edge, you can set up a winning "fork" by taking a third corner. The Minimax AI knows this, so you must anticipate its block!</li>
            <li>**Draw is a Victory:** Against the Hard (Minimax) AI, achieving a draw is the highest possible achievement‚Äîit means you played a perfect game!</li>
        </ul>
    </section>

    <footer>
        <section id="contact-section">
            <h3>Contact Information</h3>
            <p>For support, queries, or technical assistance:</p>
            <p>
                <strong>Primary Support Line:</strong> <a href="tel:8503823129">8503823129</a><br>
                <strong>Secondary Support Line:</strong> <a href="tel:9896198660">9896198660</a><br>
                <strong>Technical support:</strong> <a href="tel:6376176679">6376176679</a><br>
                <strong>Secondary technical support:</strong> <a href="tel:8290702588">8290702588</a><br>
            </p>
            <p>Email: bishnoi23129@gmail.com</p>
        </section>
        <p>&copy; 2025 AI Minimax Project. All rights reserved.</p>
    </footer>

    <script>
        // --- JAVASCRIPT LOGIC ---
        
        const board = document.getElementById('game-board');
        const message = document.getElementById('message');
        const resetButton = document.getElementById('reset-button');
        const difficultySelector = document.getElementById('difficulty');
        const themeSelector = document.getElementById('theme');
        const confettiContainer = document.getElementById('confetti-container');
        const nameInput = document.getElementById('player-name'); 

        const xSound = document.getElementById('x-sound');
        const oSound = document.getElementById('o-sound');
        const winSound = document.getElementById('win-sound');
        
        let cells = [];
        let player = 'X'; 
        let ai = 'O';     
        let gameActive = true;
        let boardState = ['', '', '', '', '', '', '', '', ''];
        let currentDifficulty = 'hard';
        let playerName = nameInput.value;

        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8],
            [0, 3, 6], [1, 4, 7], [2, 5, 8],
            [0, 4, 8], [2, 4, 6]
        ];

        // Player Name Update
        function updatePlayerName() {
            playerName = nameInput.value || "Human Player";
            resetGame();
        }

        // Theme Change (UPDATED LOGIC FOR 6 THEMES)
        function changeTheme() {
            const selectedTheme = themeSelector.value;
            document.body.className = '';
            
            if (selectedTheme === 'light') {
                document.body.classList.add('theme-light');
            } else if (selectedTheme === 'forest') {
                document.body.classList.add('theme-forest');
            } else if (selectedTheme === 'ocean') {
                document.body.classList.add('theme-ocean');
            } else if (selectedTheme === 'sunset') { // ADDED
                document.body.classList.add('theme-sunset');
            } else if (selectedTheme === 'mono') {   // ADDED
                document.body.classList.add('theme-mono');
            }
            // If selectedTheme is 'dark', no class is added, defaulting to the :root/body styles.
        }
        
        // Sound and Animation Functions
        function playSound(soundElement) {
            soundElement.currentTime = 0; 
            soundElement.play();
        }

        function launchConfetti() {
            const accentColor = getComputedStyle(document.documentElement).getPropertyValue('--accent-color');
            const colors = [accentColor, 'white', 'gray', 'yellow', 'cyan']; 
            confettiContainer.innerHTML = ''; 

            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                
                const startX = Math.random() * window.innerWidth - (window.innerWidth / 2) + 500;
                const endX = Math.random() * window.innerWidth * 2 - window.innerWidth;
                const endY = window.innerHeight + 100;
                
                confetti.style.left = `${startX}px`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                confetti.style.setProperty('--x-end', `${endX}px`);
                confetti.style.setProperty('--y-end', `${endY}px`);

                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = `${Math.random() * 10 + 5}px`;
                confetti.style.animationDelay = `${Math.random() * 0.5}s`;
                confettiContainer.appendChild(confetti);
            }
            setTimeout(() => confettiContainer.innerHTML = '', 3500);
        }

        // --- AI & GAME LOGIC ---
        function checkWinner(board) {
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                if (board[a] && board[a] === board[b] && board[a] === board[c]) { return board[a]; }
            }
            if (!board.includes('')) { return 'Draw'; }
            return null; 
        }

        function getEmptySpots(board) { return board.map((cell, index) => cell === '' ? index : null).filter(val => val !== null); }

        function minimax(newBoard, depth, isMaximizing) {
            let result = checkWinner(newBoard);
            if (result !== null) {
                if (result === ai) return 10 - depth; 
                if (result === player) return depth - 10;
                return 0;
            }
            let emptySpots = getEmptySpots(newBoard);
            let bestScore = isMaximizing ? -Infinity : Infinity;
            for (let index of emptySpots) {
                newBoard[index] = isMaximizing ? ai : player;
                let score = minimax(newBoard, depth + 1, !isMaximizing);
                newBoard[index] = ''; 
                bestScore = isMaximizing ? Math.max(score, bestScore) : Math.min(score, bestScore);
            }
            return bestScore;
        }
        
        function findBestMove(board) {
            let bestScore = -Infinity;
            let move = -1;
            let emptySpots = getEmptySpots(board);

            for (let index of emptySpots) {
                board[index] = ai;
                let score = minimax(board, 0, false);
                board[index] = ''; 

                if (score > bestScore) {
                    bestScore = score;
                    move = index;
                }
            }
            return move;
        }

        function findMediumMove(board) {
            const emptySpots = getEmptySpots(board);
            for (let index of emptySpots) { board[index] = ai; if (checkWinner(board) === ai) { board[index] = ''; return index; } board[index] = ''; }
            for (let index of emptySpots) { board[index] = player; if (checkWinner(board) === player) { board[index] = ''; return index; } board[index] = ''; }
            return findBestMove(board);
        }

        function findEasyMove() {
            const emptySpots = getEmptySpots(boardState);
            const randomIndex = Math.floor(Math.random() * emptySpots.length);
            return emptySpots[randomIndex];
        }

        function aiMove() {
            if (!gameActive || player === ai) return; 

            let moveIndex = -1;
            
            if (currentDifficulty === 'easy') { moveIndex = findEasyMove(); } 
            else if (currentDifficulty === 'medium') { moveIndex = findMediumMove(boardState); } 
            else if (currentDifficulty === 'hard') { moveIndex = findBestMove(boardState); }

            if (moveIndex !== -1) { executeMove(moveIndex, ai); }
        }
        
        // --- GAME FLOW ---

        const updateUI = (index, mark) => {
            const cellElement = cells[index];
            cellElement.innerHTML = mark;
            cellElement.classList.remove('X', 'O');
            cellElement.classList.add('occupied', mark);
            if(mark === 'X') { playSound(xSound); } else { playSound(oSound); }
        };

        const executeMove = (index, mark) => {
             boardState[index] = mark;
             updateUI(index, mark);
             checkResult();
        };

        const checkResult = () => {
            const winner = checkWinner(boardState);
            
            if (winner) {
                gameActive = false;
                
                if (winner === player) {
                    message.innerHTML = `${playerName} Wins! üéâ AI: i will win next time`;
                    playSound(winSound);
                    launchConfetti();
                } else if (winner === ai) {
                    message.innerHTML = `AI Wins! AI: HAHA ${playerName} looses.Wanna try again? üòè`;
                } else if (winner === 'Draw') {
                    message.innerHTML = 'Game Draw! ü§ù';
                }
                
                if (winner !== 'Draw') {
                    const winCondition = winningConditions.find(([a, b, c]) => 
                        boardState[a] === winner && boardState[b] === winner && boardState[c] === winner
                    );
                    winCondition.forEach(index => cells[index].classList.add('winner'));
                }
                return;
            }
        };

        const resetGame = () => {
            currentDifficulty = difficultySelector.value;
            gameActive = true;
            boardState = ['', '', '', '', '', '', '', '', ''];
            message.innerHTML = `Your Turn (${player})`;
            confettiContainer.innerHTML = '';
            
            cells.forEach(cell => {
                cell.innerHTML = '';
                cell.classList.remove('winner', 'occupied', 'X', 'O');
            });
        };
        
        const handleCellClick = (clickedCell, clickedCellIndex) => {
            if (boardState[clickedCellIndex] !== '' || !gameActive) { return; }

            executeMove(clickedCellIndex, player);

            if (gameActive) {
                message.innerHTML = "AI is thinking to make u losee...";
                setTimeout(() => {
                    aiMove();
                    if(gameActive) { message.innerHTML = `Your Turn try to win from ai (${player})`; }
                }, 500); 
            }
        };

        const initializeGame = () => {
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.setAttribute('data-index', i);
                cell.addEventListener('click', () => handleCellClick(cell, i));
                
                board.appendChild(cell);
                cells.push(cell); 
            }
            resetButton.addEventListener('click', resetGame);
            difficultySelector.addEventListener('change', resetGame);
            themeSelector.addEventListener('change', changeTheme);
            nameInput.addEventListener('change', updatePlayerName);

            changeTheme();
            updatePlayerName(); 
            resetGame();
        };

        initializeGame();

    </script>
</body>
</html>